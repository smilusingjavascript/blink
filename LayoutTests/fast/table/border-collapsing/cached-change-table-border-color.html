<!--
Calculating collapsed borders for big tables is expensive, so we cache them and recalculate when needed.
Here we change table border color, expect that cache is invalidated and paint produces expected image.
-->
<html>
    <head>
        <title></title>
        <link rel="stylesheet" href="resources/cached.css">
        <script src="../../../resources/run-after-display.js"></script>
        <script type="text/javascript">
            function test() {
                if (window.testRunner)
                    testRunner.waitUntilDone();
                runAfterDisplay(function() {
                    document.getElementById("tbl").style.borderColor = "yellow";
                    if (window.testRunner)
                        testRunner.notifyDone();
                });
            }
        </script>
    </head>
    <body onload="test()">
        <table style="border-collapse:collapse; border:4px solid blue" id="tbl">
            <tr>
                <td style="border:2px solid lime"/>
            </tr>
        </table>
    </body>
</html>

