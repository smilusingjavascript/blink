<script src="../resources/magnitude-perf.js"></script>
<script>
function setupFunction(magnitude)
{
    array = [];
    for (var i = 0; i < magnitude; i++) {
        array[i] = i;
    }
}

function test(magnitude)
{
    for (var i = 0; i < array.length; i++) {
        for (var j = 0; j < array.length; j++) {
            var foo = array[i] + array[j];
        }
    }
}

Magnitude.description("Tests that doing a nested loop over an array is quadratic.");
// Quite noisy
// lax settings ok as simply verifying "significantly superlinear"
Magnitude.initialExponent = 9;
Magnitude.numPoints = 3;
Magnitude.numTrials = 8;
Magnitude.successThreshold = 0.25; // 2 out of 8
Magnitude.tolerance = 0.40;
Magnitude.run(setupFunction, test, Magnitude.POLYNOMIAL);
</script>
